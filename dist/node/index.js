"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./common.js");const s={},r=(e="")=>e.replaceAll("&","&#38;").replaceAll?.("<","&lt;").replaceAll?.(">","&gt;"),n=(e,s)=>s?`<span class="shj-syn-${s}">${e}</span>`:e;async function a(r,n,t){try{let u,l,i,g={},o=[],c=0,j="string"==typeof n?await(s[n]??=function(e){switch(e){case"./languages/asm.js":return Promise.resolve().then((function(){return require("./languages/asm.js")}));case"./languages/bash.js":return Promise.resolve().then((function(){return require("./languages/bash.js")}));case"./languages/bf.js":return Promise.resolve().then((function(){return require("./languages/bf.js")}));case"./languages/c.js":return Promise.resolve().then((function(){return require("./languages/c.js")}));case"./languages/css.js":return Promise.resolve().then((function(){return require("./languages/css.js")}));case"./languages/csv.js":return Promise.resolve().then((function(){return require("./languages/csv.js")}));case"./languages/diff.js":return Promise.resolve().then((function(){return require("./languages/diff.js")}));case"./languages/docker.js":return Promise.resolve().then((function(){return require("./languages/docker.js")}));case"./languages/git.js":return Promise.resolve().then((function(){return require("./languages/git.js")}));case"./languages/go.js":return Promise.resolve().then((function(){return require("./languages/go.js")}));case"./languages/html.js":return Promise.resolve().then((function(){return require("./languages/html.js")}));case"./languages/http.js":return Promise.resolve().then((function(){return require("./languages/http.js")}));case"./languages/ini.js":return Promise.resolve().then((function(){return require("./languages/ini.js")}));case"./languages/java.js":return Promise.resolve().then((function(){return require("./languages/java.js")}));case"./languages/js.js":return Promise.resolve().then((function(){return require("./languages/js.js")}));case"./languages/js_template_literals.js":return Promise.resolve().then((function(){return require("./languages/js_template_literals.js")}));case"./languages/jsdoc.js":return Promise.resolve().then((function(){return require("./languages/jsdoc.js")}));case"./languages/json.js":return Promise.resolve().then((function(){return require("./languages/json.js")}));case"./languages/leanpub-md.js":return Promise.resolve().then((function(){return require("./languages/leanpub-md.js")}));case"./languages/log.js":return Promise.resolve().then((function(){return require("./languages/log.js")}));case"./languages/lua.js":return Promise.resolve().then((function(){return require("./languages/lua.js")}));case"./languages/make.js":return Promise.resolve().then((function(){return require("./languages/make.js")}));case"./languages/md.js":return Promise.resolve().then((function(){return require("./languages/md.js")}));case"./languages/pl.js":return Promise.resolve().then((function(){return require("./languages/pl.js")}));case"./languages/plain.js":return Promise.resolve().then((function(){return require("./languages/plain.js")}));case"./languages/py.js":return Promise.resolve().then((function(){return require("./languages/py.js")}));case"./languages/regex.js":return Promise.resolve().then((function(){return require("./languages/regex.js")}));case"./languages/rs.js":return Promise.resolve().then((function(){return require("./languages/rs.js")}));case"./languages/sql.js":return Promise.resolve().then((function(){return require("./languages/sql.js")}));case"./languages/todo.js":return Promise.resolve().then((function(){return require("./languages/todo.js")}));case"./languages/toml.js":return Promise.resolve().then((function(){return require("./languages/toml.js")}));case"./languages/ts.js":return Promise.resolve().then((function(){return require("./languages/ts.js")}));case"./languages/uri.js":return Promise.resolve().then((function(){return require("./languages/uri.js")}));case"./languages/xml.js":return Promise.resolve().then((function(){return require("./languages/xml.js")}));case"./languages/yaml.js":return Promise.resolve().then((function(){return require("./languages/yaml.js")}));default:return new Promise((function(s,r){("function"==typeof queueMicrotask?queueMicrotask:setTimeout)(r.bind(null,new Error("Unknown variable dynamic import: "+e)))}))}}(`./languages/${n}.js`)):n,h=[..."string"==typeof n?j.default:n.sub];for(;c<r.length;){for(g.index=null,u=h.length;u-- >0;){if(l=h[u].expand?e.default[h[u].expand]:h[u],void 0===o[u]||o[u].match.index<c){if(l.match.lastIndex=c,i=l.match.exec(r),null===i){h.splice(u,1),o.splice(u,1);continue}o[u]={match:i,lastIndex:l.match.lastIndex}}o[u].match[0]&&(o[u].match.index<=g.index||null===g.index)&&(g={part:l,index:o[u].match.index,match:o[u].match[0],end:o[u].lastIndex})}if(null===g.index)break;t(r.slice(c,g.index),j.type),c=g.end,g.part.sub?await a(g.match,"string"==typeof g.part.sub?g.part.sub:"function"==typeof g.part.sub?g.part.sub(g.match):g.part,t):t(g.match,g.part.type)}t(r.slice(c,r.length),j.type)}catch{t(r)}}async function t(e,s,t=!0,u={}){let l="";return await a(e,s,((e,s)=>l+=n(r(e),s))),t?`<div><div class="shj-numbers">${"<div></div>".repeat(!u.hideLineNumbers&&e.split("\n").length)}</div><div>${l}</div></div>`:l}async function u(e,s=e.className.match(/shj-lang-([\w-]+)/)?.[1],r,n){let a=e.textContent;r??=("CODE"==e.tagName?"in":a.split("\n").length<2?"one":"multi")+"line",e.dataset.lang=s,e.className=`${[...e.classList].filter((e=>!e.startsWith("shj-")||e.startsWith("shj-mode-"))).join(" ")} shj-lang-${s} shj-${r}`,e.innerHTML=await t(a,s,"multiline"==r,n)}exports.highlightAll=async e=>document.querySelectorAll('[class*="shj-lang-"]').forEach((s=>u(s,void 0,void 0,e))),exports.highlightElement=u,exports.highlightText=t,exports.loadLanguage=(e,r)=>{s[e]=r},exports.tokenize=a;
